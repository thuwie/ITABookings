{% extends 'layouts/location.html.twig' %}

{% block title %}C√°c t·ªânh/th√†nh ph·ªë{% endblock %}

{% block body %}

<h2 class="text-center">ƒê·ªãa ƒëi·ªÉm n·ªïi b·∫≠t</h2>

<div class="d-flex flex-column gap-5 mt-4">

    <!-- CAROUSEL -->
    <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">

            <!-- ITEM 1 -->
            <div class="carousel-item active" data-bs-interval="3000">
                <div class="d-flex justify-content-center align-items-center p-4" style="min-height: 250px;">
                    <div class="w-100">
                        <img src="/files/dak-lak/province_68e9018b3fdf29.85037701_download.jpg"
                            class="w-100 object-fit-contain object-fit-cover rounded-2" style="height: 300px;" alt="">
                    </div>
                </div>
            </div>

            <!-- ITEM 2 -->
            <div class="carousel-item" data-bs-interval="3000">
                <div class="d-flex justify-content-center align-items-center p-4" style="min-height: 250px;">
                    <div class="w-100">
                        <img src="/files/dak-lak/province_68e9018b39bca3.79820301_images.jpg"
                            class="w-100 object-fit-contain object-fit-cover rounded-2" style="height: 300px;" alt="">
                    </div>
                </div>
            </div>

            <!-- ITEM 3 -->
            <div class="carousel-item" data-bs-interval="3000">
                <div class="d-flex justify-content-center align-items-center p-4" style="min-height: 250px;">
                    <div class="w-100">
                        <img src="/files/dak-lak/province_68e9018b47a0b7.32815062_download__1_.jpg"
                            class="w-100 object-fit-contain object-fit-cover rounded-2" style="height: 300px;" alt="">
                    </div>
                </div>
            </div>

        </div>

        <!-- CAROUSEL CONTROLS -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>

        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <!-- LIST PROVINCES -->
    {% for item in provincesWithTravelSpots %}
    {% set province = item.province %}
    {% set travelSpots = item.travelSpots %}

    {% if travelSpots is defined and travelSpots|length > 0 %}
    <div class="mb-5">

        <!-- PROVINCE TITLE -->
        <span class="d-flex gap-2 align-items-center mb-3">
            <div>üåç</div>
            <h3>{{ province.name }}</h3>
        </span>

        <!-- TRAVEL SPOTS LIST -->
        <div class="d-flex flex-wrap gap-3">
            {% for travelSpot in travelSpots|slice(0, 5) %}

            <a href="/travel-spot/{{ travelSpot.id }}" class="col text-decoration-none text-reset"
                style="max-width: 300px;">

                <article class="pointer-hover-col border rounded-2" style="border-color: #000;">

                    {% set bgImg = '../images/banner.jpg' %}
                    {% if travelSpot.images is defined
                    and travelSpot.images|length > 0
                    and travelSpot.images[0].url is defined %}
                    {% set bgImg = travelSpot.images[0].url %}
                    {% endif %}

                    <!-- IMAGE -->
                    <div class="w-100 rounded-top-2" style="
                                        background-image: url('{{ bgImg }}');
                                        height: 180px;
                                        background-size: cover;
                                        background-position: center;
                                        background-repeat: no-repeat;
                                     ">
                    </div>

                    <!-- CONTENT -->
                    <div class="w-100 rounded-bottom-2 p-3 d-flex flex-column">

                        <span class="text-center">
                            <strong class="fs-5 clamp-2">{{ travelSpot.name }}</strong>
                        </span>

                        <div class="d-flex gap-2 align-items-center justify-content-center" style="color: #9E9E9E;">
                            <i class="bi bi-star-fill text-warning"></i>
                            <span>{{ travelSpot.averageRate ?? '0' }}</span>
                            <span>({{ travelSpot.totalRates ?? '0' }} ƒë√°nh gi√°)</span>
                        </div>

                        <p class="clamp-2" style="max-width: 300px;">
                            {{ travelSpot.description ?? '' }}
                        </p>

                        <button class="btn w-100 text-center rounded-2 btn-primary">
                            <span class="btn-view-detail">Xem chi ti·∫øt</span>
                        </button>
                    </div>

                </article>
            </a>

            {% endfor %}
        </div>

    </div>
    {% endif %}
    {% endfor %}

</div>

{% endblock %}