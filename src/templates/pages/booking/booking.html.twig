{% extends 'layouts/booking.html.twig' %}


{% block title %}Tiến hành đặt xe{% endblock %}

{% block body %}

<div style="background-color: #F9F9F9;" class="py-2">
    <section class="container bg-white rounded-1 shadow-lg p-3" style="width: 800px;">
        <div class="row gap-3">
            <div class="col">
                <img style="width: 100%; height: 100%;" src="{{providerWithVehicle.vehicle_img}}" alt="">
            </div>
            <div class="col">
                <div class="d-flex flex-column">
                    <h2 style="color: #4782CE">Xe {{providerWithVehicle.seat_count}} chỗ</h2>
                    <ul class="d-flex flex-column gap-1">
                        <li class="fw-bold">Hãng xe: <span class="fw-normal">{{providerWithVehicle.brand}}</span></li>
                        <li class="fw-bold">Dòng xe: <span class="fw-normal">{{providerWithVehicle.model}}</span></li>
                        <li class="fw-bold">Số chỗ: <span class="fw-normal">{{providerWithVehicle.seat_count}}</span>
                        </li>
                        <li class="fw-bold">Tiện ích: <span class="fw-normal">
                                {% for util in providerWithVehicle.utilities %}
                                {{ util }}{% if not loop.last %}, {% endif %}
                                {% endfor %}
                            </span></li>
                    </ul>
                    <div class="d-flex gap-1">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill" style="color: #D3CECC;"></i> (4.7/5)
                    </div>
                    <p class="mt-2">Giá thuê 1 ngày (bao gồm VAT): <span style="color: #AE2E31;" class="fw-bold">{{
                            routeDetail.price | number_format(0, ',', '.') }} ₫</span>
                    </p>
                </div>
            </div>
        </div>

        <div class="mt-3">
            <h5 style="color: #4782CE" class="fw-bold">Thông tin nhà cung cấp</h5>
            <span>{{ providerWithVehicle.provider_name|capitalize }}
                - {{providerWithVehicle.province_name}} -
                {{providerWithVehicle.phone_number}}</span>
        </div>

        <div class="rounded-1 p-3 mt-3 " style="border: 1px solid #177ee5;">
            <h5 style="color: #4782CE" class="text-center">ĐẶT XE NGAY</h5>
            <p class="note fw-medium">Lưu ý: Chi phí bên trên chỉ là chi phí được tính cho 1 ngày, tổng chi phí sẽ được
                hiển thị
                khi bạn chọn
                tổng số ngày sẽ thuê xe.</p>
            <form class="row g-3">
                <div class="col-md-6">
                    <label for="fullName" class="form-label">Họ tên</label>
                    <input type="text" class="form-control" id="fullName" name="full_name" value="{{user.full_name}}"
                        disabled>
                </div>

                <div class="col-md-6">
                    <label for="phoneNumber" class="form-label">Số điện thoại</label>
                    <input type="text" class="form-control" id="phoneNumber" name="phone_number" value="{{user.phone}}"
                        disabled>
                </div>

                <div class="col-12">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" name="email" value="{{user.email}}" disabled>
                </div>

                <div class="col-md-6">
                    <label for="pickupPoint" class="form-label">Điểm đón</label>
                    <input type="text" class="form-control" id="pickupPoint" name="pickup_point"
                        value="{{routeDetail.from}}" disabled>
                </div>

                <div class="col-md-6">
                    <label for="destinationPoint" class="form-label">Điểm đến</label>
                    <input type="text" class="form-control" id="destinationPoint" name="destination_point"
                        value="{{routeDetail.to}}" disabled>
                </div>

                <div class="col-md-6">
                    <label for="route" class="form-label">Tuyến đường</label>
                    <input type="text" class="form-control" id="route" name="route" value="{{routeDetail.route}}"
                        disabled>
                </div>

                <div class="col-md-6">
                    <label for="total_km" class="form-label">Tổng số km:</label>
                    <input type="text" class="form-control" id="total_km" name="total_km" value="{{routeDetail.km}}"
                        disabled>
                </div>

                <div class="col-md-6">
                    <label for="startDate" class="form-label">Ngày đi <span class="text-danger">*</span></label>
                    <input type="date" class="form-control" id="startDate" name="start_date" required>
                </div>

                <div class="col-md-6">
                    <label for="startTime" class="form-label">Giờ khởi hành</label>
                    <input type="text" class="form-control" id="startTime" name="start_time" disabled value="8:00 AM">
                </div>

                <div class="col-md-6">
                    <label for="endDate" class="form-label">Ngày kết thúc<span class="text-danger">*</span></label>
                    <input type="date" class="form-control" id="endDate" name="end_date" required>
                </div>

                <div class="col-md-6">
                    <label for="endTime" class="form-label">Giờ kết thúc</label>
                    <input type="text" class="form-control" id="endTime" name="end_time" disabled value="17:00 PM">
                </div>

                <input id="price_one_day" type="text" class="d-none" value="{{routeDetail.price}}" />
                <p>Tổng chi phí bạn phải thanh toán là: <span class="note fw-bolder" id="total_price">0đ</span></p>

                <div class="col-12 mt-2">
                    <div class="d-flex justify-content-center gap-2">
                        <button type="submit" class="btn text-white" style="background-color: #54bf21;">Xác nhận đặt
                            xe</button>
                        <button type="button" class="btn border rounded-1">Hủy</button>
                    </div>
                </div>
            </form>

        </div>
    </section>
</div>

<script src="/js/booking-handler.js"></script>

{% endblock %}