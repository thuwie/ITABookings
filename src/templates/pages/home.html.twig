<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create User</title>
      <link rel="stylesheet" href="/css/bootstrap.min.css">
</head>
<body class="">
    <h1 class="text-primary">Create User</h1>
    <form id="createUserForm">
        <label>First Name:
            <input type="text" name="firstName" class="" required>
        </label><br><br>

        <label>Last Name:
            <input type="text" name="lastName" required>
        </label><br><br>

        <label>Email:
            <input type="email" name="email" required>
        </label><br><br>

        <label>Password:
            <input type="password" name="password" required>
        </label><br><br>

        <label>Phone Number:
            <input type="text" name="phoneNumber">
        </label><br><br>

        <label>Portrait URL:
            <input type="text" name="portrait">
        </label><br><br>

        <button type="submit">Create User</button>
    </form>

    <script>
        const form = document.getElementById('createUserForm');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            const response = await fetch('/users', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            console.log(result);
            alert(JSON.stringify(result, null, 2));
        });
    </script>
</body>
</html>
